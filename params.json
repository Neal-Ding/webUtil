{"name":"Webutil","tagline":"自用小工具集","body":"\r\n\t<style>\r\n\t/*------------base----------------*/\r\n\t*{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\tbody{\r\n\t\tfont: 16px/100% \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\r\n\t\tposition: relative;\r\n\t\tz-index: 100;\r\n\t}\r\n\tul li, ol li{\r\n\t\tlist-style: none;\r\n\t}\r\n\t/*------------page----------------*/\r\n\t.wrap{\r\n\t\twidth: 500px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.img-area{\r\n\t\twidth: 300px;\r\n\t\theight: 300px;\r\n\t\tmargin: 0 auto;\r\n\t\tborder: 5px dashed #aaa;\r\n\t\tborder-radius: 28px;\r\n\t}\r\n\t.img-area p{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #aaa;\r\n\t\tborder-radius: 22px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 300px;\r\n\t\tfont-size: 30px;\r\n\t\tcolor: #ddd;\r\n\t}\r\n\t.code-list{\r\n\t\tmargin: 20px auto 0;\r\n\t\tdisplay: block;\r\n\t}\r\n\t.code-list li img{\r\n\t\tmax-width: 100px;\r\n\t\tmax-height: 100px;\r\n\t}\r\n\t</style>\r\n\t<script>\r\n\twindow.onload = function () {\r\n\t\tvar imgArea = document.querySelector('.img-area');\r\n\t\tvar codeList = document.querySelector(\".code-list\");\r\n\t\tvar imgAreaTip = ['将图片拖拽至此', '释放生成DataURL', '处理中...'];\r\n\t\tfunction dragInit () {\r\n\t\t\timgArea.addEventListener('dragenter', dragEnterHandle, false);\r\n\t\t\timgArea.addEventListener('dragover', dragEnterHandle, false);\r\n\t\t\timgArea.addEventListener('dragleave', dragLeaveHandle, false);\r\n\t\t\timgArea.addEventListener('drop', dropHandle, false);\r\n\t\t}\r\n\t\tfunction dragEnterHandle (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif(e.dataTransfer.files.length > 0){\r\n\t\t\t\timgAreaStatue(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction dragLeaveHandle () {\r\n\t\t\timgAreaStatue(0);\r\n\t\t}\r\n\t\tfunction dropHandle (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar files = Array.prototype.slice.call(e.dataTransfer.files);\r\n\t\t\tfiles.forEach(function (t, idx) {\r\n\t\t\t\tt.reader = new FileReader();\r\n\t\t\t\tt.reader.onload = function() {\r\n\t\t\t\t\tcodeList.children[idx].querySelector(\".img\").src = this.result;\r\n\t\t\t\t\tcodeList.children[idx].querySelector(\".code\").innerHTML = this.result;\r\n\t\t\t\t\timgAreaStatue(0);\r\n\t\t\t\t\titemStatue(idx, this.readyState);\r\n\t\t\t\t\tt.reader = null;\r\n\t\t\t\t};\r\n\t\t\t\tt.reader.onloadstart = function () {\r\n\t\t\t\t\titemStatue(idx, this.readyState);\r\n\t\t\t\t}\r\n\t\t\t\tif(t.type.indexOf('image') != -1){\r\n\t\t\t\t\tcodeList.innerHTML = '<li>' +\r\n\t\t\t\t\t\t'<img alt=\"img\" class=\"img\">' +\r\n\t\t\t\t\t\t'<span class=\"statue\">ready</span>' +\r\n\t\t\t\t\t\t'<textarea cols=\"30\" rows=\"1\" class=\"code\"></textarea>' +\r\n\t\t\t\t\t\t'<button class=\"copy\">复制</button>' +\r\n\t\t\t\t\t'</li>' + codeList.innerHTML;\r\n\t\t\t\t\tt.reader.readAsDataURL(t);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\timgAreaStatue(0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction imgAreaStatue (statue) {\r\n\t\t\ttipTag = imgArea.children[0];\r\n\t\t\ttipTag.innerText = imgAreaTip[statue];\r\n\t\t}\r\n\t\tfunction itemStatue (idx, statue) {\r\n\t\t\tcodeList.children[idx].querySelector(\".statue\").innerText = statue;\r\n\t\t}\r\n\t\tdragInit();\r\n\t};\r\n\t</script>\r\n\t<div class=\"wrap\">\r\n\t\t<div class=\"img-area\">\r\n\t\t\t<p>将图片拖拽至此</p>\r\n\t\t</div>\r\n\t\t<p>结果列表：</p>\r\n\t\t<ul class=\"code-list\"></ul>\r\n\t</div>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}